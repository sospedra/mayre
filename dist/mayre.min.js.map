{"version":3,"file":"mayre.min.js","sources":["../src/index.js"],"sourcesContent":["const { cloneElement } = require('react')\nconst PropTypes = require('prop-types')\n\nconst isFunction = (target) => {\n  return target && ({}).toString.call(target) === '[object Function]'\n}\n\nconst isObject = (target, isArray = false) => {\n  return typeof target === 'object' && target.hasOwnProperty('length') === isArray\n}\n\nconst selectWithProps = (withProps) => {\n  if (isObject(withProps)) return withProps\n  if (isObject(withProps, true) && isObject(withProps[0])) {\n    return Object.entries(withProps[0]).reduce((memo, [key, value]) => {\n      const property = withProps.includes(key) ? { [key]: value } : {}\n      return Object.assign({}, memo, property)\n    }, {})\n  }\n\n  return {}\n}\n\nconst Mayre = module.exports = (props) => {\n  const shallRenderOf = isFunction(props.when) ? props.when() : props.when\n  const ofProps = selectWithProps(props.with)\n  const element = isFunction(props.of) ? props.of(ofProps) : props.of\n  const eitherProps = props.orWith ? selectWithProps(props.orWith) : ofProps\n  const either = isFunction(props.or) ? props.or(eitherProps) : props.or\n\n  return shallRenderOf\n    ? cloneElement(element, ofProps)\n    : either && cloneElement(either, eitherProps)\n}\n\nMayre.defaultProps = {\n  or: null,\n  with: {}\n}\n\nMayre.propTypes = {\n  of: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.func\n  ]).isRequired,\n  or: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.func\n  ]),\n  orWith: PropTypes.oneOfType([\n    PropTypes.array,\n    PropTypes.object\n  ]),\n  when: PropTypes.oneOfType([\n    PropTypes.bool,\n    PropTypes.func\n  ]),\n  with: PropTypes.oneOfType([\n    PropTypes.array,\n    PropTypes.object\n  ])\n}\n"],"names":["require","cloneElement","PropTypes","isFunction","target","toString","call","isObject","isArray","hasOwnProperty","selectWithProps","withProps","Object","entries","reduce","memo","key","value","property","includes","assign","Mayre","module","exports","props","shallRenderOf","when","ofProps","with","element","of","eitherProps","orWith","either","or","defaultProps","propTypes","oneOfType","func","isRequired","array","object","bool"],"mappings":"qyBAAyBA,QAAQ,SAAzBC,sBAAAA,aACFC,UAAYF,QAAQ,cAEpBG,WAAa,SAACC,SACXA,IAAyC,yBAA1BC,SAASC,KAAKF,IAGhCG,SAAW,SAACH,MAAQI,iEACC,+BAAXJ,uBAAAA,KAAuBA,EAAOK,eAAe,YAAcD,GAGrEE,gBAAkB,SAACC,SACnBJ,UAASI,GAAmBA,EAC5BJ,SAASI,GAAW,IAASJ,SAASI,EAAU,IAC3CC,OAAOC,QAAQF,EAAU,IAAIG,OAAO,SAACC,+BAAOC,OAAKC,OAChDC,EAAWP,EAAUQ,SAASH,sBAAUA,EAAMC,YAC7CL,QAAOQ,UAAWL,EAAMG,YAO/BG,MAAQC,OAAOC,QAAU,SAACC,MACxBC,GAAgBtB,WAAWqB,EAAME,MAAQF,EAAME,OAASF,EAAME,KAC9DC,EAAUjB,gBAAgBc,EAAMI,MAChCC,EAAU1B,WAAWqB,EAAMM,IAAMN,EAAMM,GAAGH,GAAWH,EAAMM,GAC3DC,EAAcP,EAAMQ,OAAStB,gBAAgBc,EAAMQ,QAAUL,EAC7DM,EAAS9B,WAAWqB,EAAMU,IAAMV,EAAMU,GAAGH,GAAeP,EAAMU,SAE7DT,GACHxB,aAAa4B,EAASF,GACtBM,GAAUhC,aAAagC,EAAQF,GAGrCV,OAAMc,iBACA,cAINd,MAAMe,cACAlC,UAAUmC,WACZnC,UAAU2B,QACV3B,UAAUoC,OACTC,cACCrC,UAAUmC,WACZnC,UAAU2B,QACV3B,UAAUoC,cAEJpC,UAAUmC,WAChBnC,UAAUsC,MACVtC,UAAUuC,cAENvC,UAAUmC,WACdnC,UAAUwC,KACVxC,UAAUoC,YAENpC,UAAUmC,WACdnC,UAAUsC,MACVtC,UAAUuC"}