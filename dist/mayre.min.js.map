{"version":3,"file":"mayre.min.js","sources":["../src/index.js"],"sourcesContent":["const { cloneElement } = require('react')\nconst PropTypes = require('prop-types')\n\nconst isFunction = (target) => {\n  return target && ({}).toString.call(target) === '[object Function]'\n}\n\nconst isObject = (target, isArray = false) => {\n  return typeof target === 'object' && target.hasOwnProperty('length') === isArray\n}\n\nconst selectWithProps = (withProps) => {\n  if (isObject(withProps)) return withProps\n  if (isObject(withProps, true) && isObject(withProps[0])) {\n    return Object.entries(withProps[0]).reduce((memo, [key, value]) => {\n      const property = withProps.includes(key) ? { [key]: value } : {}\n      return Object.assign({}, memo, property)\n    }, {})\n  }\n\n  return {}\n}\n\nconst Mayre = module.exports = (props) => {\n  const shallRenderOf = isFunction(props.when) ? props.when() : props.when\n  const ofProps = selectWithProps(props.with)\n  const element = isFunction(props.of) ? props.of(ofProps) : props.of\n  const eitherProps = props.orWith ? selectWithProps(props.orWith) : ofProps\n  const either = isFunction(props.or) ? props.or(eitherProps) : props.or\n\n  return shallRenderOf\n    ? cloneElement(element, ofProps)\n    : either && cloneElement(either, eitherProps)\n}\n\nMayre.defaultProps = {\n  or: null,\n  with: {}\n}\n\nMayre.propTypes = {\n  of: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.func\n  ]).isRequired,\n  or: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.func\n  ]),\n  orWith: PropTypes.oneOfType([\n    PropTypes.array,\n    PropTypes.object\n  ]),\n  when: PropTypes.oneOfType([\n    PropTypes.bool,\n    PropTypes.func\n  ]),\n  with: PropTypes.oneOfType([\n    PropTypes.array,\n    PropTypes.object\n  ])\n}\n"],"names":["cloneElement","require","PropTypes","isFunction","target","toString","call","isObject","isArray","hasOwnProperty","selectWithProps","withProps","Object","entries","reduce","memo","key","value","property","includes","[object Object]","assign","Mayre","module","exports","props","shallRenderOf","when","ofProps","with","element","of","eitherProps","orWith","either","or","defaultProps","propTypes","oneOfType","func","isRequired","array","object","bool"],"mappings":"YAAA,OAAQA,cAAiBC,QAAQ,SAC3BC,EAAYD,QAAQ,cAEpBE,EAAa,AAACC,IAClB,MAAOA,IAAyC,yBAA1BC,SAASC,KAAKF,IAGhCG,EAAW,CAACH,EAAQI,EAAU,SAClC,MAAyB,gBAAXJ,IAAuBA,EAAOK,eAAe,YAAcD,GAGrEE,EAAkB,AAACC,IACvB,MAAIJ,GAASI,GAAmBA,EAC5BJ,EAASI,GAAW,IAASJ,EAASI,EAAU,IAC3CC,OAAOC,QAAQF,EAAU,IAAIG,OAAO,CAACC,GAAOC,EAAKC,MACtD,KAAMC,GAAWP,EAAUQ,SAASH,IAASI,CAACJ,GAAMC,KACpD,OAAOL,QAAOS,UAAWN,EAAMG,YAO/BI,EAAQC,OAAOC,QAAU,CAACC,IAC9B,KAAMC,GAAgBvB,EAAWsB,EAAME,MAAQF,EAAME,OAASF,EAAME,KAC9DC,EAAUlB,EAAgBe,EAAMI,MAChCC,EAAU3B,EAAWsB,EAAMM,IAAMN,EAAMM,GAAGH,GAAWH,EAAMM,GAC3DC,EAAcP,EAAMQ,OAASvB,EAAgBe,EAAMQ,QAAUL,EAC7DM,EAAS/B,EAAWsB,EAAMU,IAAMV,EAAMU,GAAGH,GAAeP,EAAMU,EAEpE,OAAOT,GACH1B,aAAa8B,EAASF,GACtBM,GAAUlC,aAAakC,EAAQF,IAGrCV,GAAMc,cACJD,GAAI,KACJN,SAGFP,EAAMe,WACJN,GAAI7B,EAAUoC,WACZpC,EAAU4B,QACV5B,EAAUqC,OACTC,WACHL,GAAIjC,EAAUoC,WACZpC,EAAU4B,QACV5B,EAAUqC,OAEZN,OAAQ/B,EAAUoC,WAChBpC,EAAUuC,MACVvC,EAAUwC,SAEZf,KAAMzB,EAAUoC,WACdpC,EAAUyC,KACVzC,EAAUqC,OAEZV,KAAM3B,EAAUoC,WACdpC,EAAUuC,MACVvC,EAAUwC"}